# 통합 제어 노드 설정 (위치제어 + CMD_VEL)
# 하나의 노드로 CAN2 버스를 통합 관리 -> Bus-Off 방지!
unified_control_node:
  ros__parameters:
    can_interface: "can2"
    # 위치제어 모터 (0x143~0x147)
    motor_ids: [0x143, 0x144, 0x145, 0x146, 0x147]
    joint_names: ["joint_1", "joint_2", "joint_3", "joint_4", "joint_5"]
    max_position: 1800.0    # 최대 위치 (도)
    min_position: -1800.0  # 최소 위치 (도)
    max_velocity: 100.0   # 최대 속도 (도/초)
    position_tolerance: 1.0  # 위치 허용 오차 (도)
    # CMD_VEL 모터 (0x141, 0x142)
    left_motor_id: 0x141
    right_motor_id: 0x142
    wheel_radius: 0.1  # 바퀴 반지름 (m)
    wheel_base: 0.5   # 바퀴 간 거리 (m)
    max_linear_vel: 1.0   # 최대 선속도 (m/s)
    max_angular_vel: 1.0  # 최대 각속도 (rad/s)

# 개별 노드 설정 (하위 호환성)
cmd_vel_control_node:
  ros__parameters:
    can_interface: "can2"
    left_motor_id: 0x141
    right_motor_id: 0x142
    wheel_radius: 0.1  # 바퀴 반지름 (m)
    wheel_base: 0.5   # 바퀴 간 거리 (m)
    max_linear_vel: 1.0   # 최대 선속도 (m/s)
    max_angular_vel: 1.0  # 최대 각속도 (rad/s)

position_control_node:
  ros__parameters:
    can_interface: "can2"
    motor_ids: [0x143, 0x144, 0x145, 0x146, 0x147]
    joint_names: ["joint_1", "joint_2", "joint_3", "joint_4", "joint_5"]
    max_position: 1800.0    # 최대 위치 (도)
    min_position: -1800.0  # 최소 위치 (도)
    max_velocity: 100.0   # 최대 속도 (도/초)
    position_tolerance: 1.0  # 위치 허용 오차 (도)


